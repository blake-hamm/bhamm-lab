- name: Secure debian machines
  hosts: debian
  roles:
    - security
    - grafana.grafana.alloy
  tags: [security]
  become: true
- name: Configure debian bare metal machines
  hosts: debian_bare_metal
  roles:
    - network
  become: true
  tags: [network]
- name: Configure Storage server 'method'
  hosts: method
  become: true
  roles:
    - aeriscloud.disk
    - tigattack.mergerfs
    - ironicbadger.snapraid
    - geerlingguy.nfs
    - vladgh.samba.server
  tags: [storage, nfs, samba]
- name: Install proxmox
  hosts: proxmox
  roles:
    - proxmox
    - prometheus.prometheus.node_exporter
    - prometheus.prometheus.systemd_exporter
    - prometheus.prometheus.smartctl_exporter
  tags: [proxmox]
- name: Configure debian bare metal machines
  hosts: debian_bare_metal
  roles:
    - mrlesmithjr.zfs
  become: true
  tags: [zfs]
